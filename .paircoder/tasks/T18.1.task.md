---
id: T18.1
title: Fix Version String Single Source of Truth
plan: plan-2025-12-sprint-18-release-engineering
type: bugfix
priority: P0
complexity: 10
status: done
depends_on: []
tags:
- cli
- version
- release
---

# Objective

Fix version mismatch where `bpsai-pair --version` shows 2.5.4 but package is 2.6.0. Use `importlib.metadata` to read version from pyproject.toml instead of hardcoding.

# Root Cause

Version defined in two places:
- `pyproject.toml` (bumped correctly)
- `tools/cli/bpsai_pair/__init__.py` (not bumped)

# Implementation

Replace hardcoded version in `tools/cli/bpsai_pair/__init__.py`:

```python
from importlib.metadata import version
__version__ = version("bpsai-pair")
```

# Acceptance Criteria

- [x] Single source of truth for version (pyproject.toml only)
- [x] `bpsai-pair --version` shows correct version matching pyproject.toml
- [x] No hardcoded version strings remain in __init__.py
- [x] Test verifies version matches pyproject.toml

# Files to Modify

- `tools/cli/bpsai_pair/__init__.py`
- `tests/test_version.py` (new or update existing)

# Dependencies

None - can start immediately.