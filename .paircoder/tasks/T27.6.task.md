---
id: T27.6
title: Fix Windows hook compatibility
plan: plan-2025-12-sprint-27-stabilization
type: bugfix
priority: P0
complexity: 30
status: pending
sprint: 27
tags: [stabilization, bugfix, windows, hooks]
depends_on: []
---

# Objective

Fix hooks that use `|| true` bash syntax which fails on Windows cmd.exe.

# Implementation Plan

1. Find all uses of `|| true` in subprocess calls
2. Check hook implementations in core/hooks.py
3. Implement cross-platform subprocess wrapper
4. Handle errors in Python instead of shell
5. Test on Windows (or via WSL testing Windows behavior)

# Acceptance Criteria

- [ ] All hooks work on Windows
- [ ] All hooks work on Mac/Linux
- [ ] No `|| true` in subprocess calls (or properly wrapped)
- [ ] Hook failures don't crash the main command

# Verification

```bash
# On Windows (or via WSL testing Windows behavior)
bpsai-pair task update T1 --status in_progress
bpsai-pair task update T1 --status done

# Run tests
pytest tests/core/test_hooks.py -v

# Check for bash-specific syntax
grep -rn "|| true" tools/cli/
```
