---
id: T29.2.14
title: MCP Tool Verification
plan: plan-2026-01-sprint-29-2-comprehensive-audit
type: feature
priority: P1
complexity: 25
status: done
sprint: 29.2
tags: [audit, mcp, tools]
depends_on: []
---

# Objective

Verify all MCP tools are implemented, functional, and documented.

# Acceptance Criteria

- [x] All MCP tools inventoried
- [x] Tool functionality verified
- [x] Documentation accuracy checked
- [x] Test coverage assessed

---

# Audit Findings

## MCP Tools Summary

**Total Tools Implemented:** 15
**Documented in FEATURE_MATRIX:** 13
**Documentation Gap:** 2 undocumented tools

## Complete MCP Tool Inventory

### Task Management (4 tools)

| Tool | Parameters | CLI Equivalent |
|------|------------|----------------|
| `paircoder_task_list` | status, plan, sprint | `task list` |
| `paircoder_task_next` | (none) | `task next` |
| `paircoder_task_start` | task_id, agent | `task update --status in_progress` |
| `paircoder_task_complete` | task_id, summary, tokens, model, agent | `ttask done` |

### Planning (2 tools)

| Tool | Parameters | CLI Equivalent |
|------|------------|----------------|
| `paircoder_plan_list` | (none) | `plan list` |
| `paircoder_plan_status` | plan_id | `plan status` |

### Context (1 tool)

| Tool | Parameters | CLI Equivalent |
|------|------------|----------------|
| `paircoder_context_read` | file (state/project/workflow/config/capabilities) | Read-only |

### Orchestration (4 tools)

| Tool | Parameters | CLI Equivalent |
|------|------------|----------------|
| `paircoder_orchestrate_analyze` | task_id, context, prefer_agent | `orchestrate analyze` |
| `paircoder_orchestrate_handoff` | task_id, from_agent, to_agent, progress_summary, files, decisions, questions | `orchestrate handoff` |
| `paircoder_orchestrate_plan` | task_id, prompt, include_files | **MCP-only** |
| `paircoder_orchestrate_review` | diff, changed_files, include_file_contents | **MCP-only** |

### Metrics (2 tools)

| Tool | Parameters | CLI Equivalent |
|------|------------|----------------|
| `paircoder_metrics_record` | task_id, agent, model, input_tokens, output_tokens, duration, action_type, success, error | Implicit |
| `paircoder_metrics_summary` | scope, scope_id | `metrics summary` |

### Trello (2 tools)

| Tool | Parameters | CLI Equivalent |
|------|------------|----------------|
| `paircoder_trello_sync_plan` | plan_id, board_id, create_lists, link_cards, dry_run | `plan sync-trello` |
| `paircoder_trello_update_card` | task_id, action, comment | `ttask <action>` |

## Undocumented Tools

### MCP-001: paircoder_orchestrate_plan

**Purpose:** Invoke planner agent for design tasks (read-only mode)
**Parameters:** task_id, prompt, include_files
**Returns:** Structured implementation plan with phases, files, complexity, risks
**Note:** No CLI equivalent - MCP-only capability

### MCP-002: paircoder_orchestrate_review

**Purpose:** Invoke reviewer agent for code review (read-only mode)
**Parameters:** diff, changed_files, include_file_contents
**Returns:** Structured review with verdict, items by severity, positive notes
**Auto-detection:** Git diff and changed files if not provided
**Note:** No CLI equivalent - MCP-only capability

## Test Coverage

**Test Files:**
- `test_mcp_server.py` - Server initialization
- `test_mcp_tools.py` - Tool implementations
- `test_mcp_tools_planning_full.py` - Planning tools
- `test_mcp_tools_trello.py` - Trello integration

**Coverage Status:** Good (29+ tests)

## Documentation Gaps

| Tool | Documented Parameters | Missing Parameters |
|------|----------------------|-------------------|
| `metrics_record` | 5 | 4 (duration, action_type, success, error) |
| `task_complete` | 2 | 4 (tokens, model, agent) |
| `orchestrate_handoff` | 4 | 3 (files, decisions, questions) |
| `trello_sync_plan` | 4 | 1 (dry_run) |

## Recommendations

### P0 - Must Fix

1. Add `orchestrate_plan` and `orchestrate_review` to FEATURE_MATRIX
2. Update MCP tool count from 13 to 15
3. Add missing parameters to documentation

### P1 - Should Consider

4. Add CLI commands for `orchestrate plan` and `orchestrate review`
5. Add `--mcp-only` flag documentation for MCP-exclusive tools

---

## Summary

**MCP Health:** GOOD - All 15 tools functional

2 tools undocumented (`orchestrate_plan`, `orchestrate_review`). These are MCP-only capabilities with no CLI equivalent. Documentation understates total tool count.
