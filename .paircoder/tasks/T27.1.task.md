---
id: T27.1
title: Fix template check crash
plan: plan-2025-12-sprint-27-stabilization
type: bugfix
priority: P0
complexity: 30
status: done
sprint: 27
tags:
- stabilization
- bugfix
depends_on: []
---

# Objective

Fix `bpsai-pair template check` which crashes instead of reporting template drift gracefully.

# Implementation Plan

1. Reproduce the crash with `bpsai-pair template check`
2. Find root cause in `tools/cli/bpsai_pair/release/template.py`
3. Add null/missing path handling
4. Add helpful error messages
5. Ensure proper exit codes
6. Add/update unit tests

# Acceptance Criteria

- [ ] `bpsai-pair template check` runs without crashing
- [ ] If templates are in sync: Shows success message
- [ ] If templates are out of sync: Shows diff/list of drifted files
- [ ] If template dir missing: Shows helpful error message
- [ ] Exit code 0 on success, 1 on drift/error

# Verification

```bash
# Should not crash
bpsai-pair template check

# Should show help
bpsai-pair template check --help

# Run unit tests for template module
pytest tests/release/test_template.py -v
```