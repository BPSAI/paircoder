---
id: T29.2.15
title: MCP-CLI Gap Analysis
plan: plan-2026-01-sprint-29-2-comprehensive-audit
type: feature
priority: P1
complexity: 20
status: done
sprint: 29.2
tags: [audit, mcp, cli, parity]
depends_on: []
---

# Objective

Analyze gaps between MCP tool capabilities and CLI command coverage.

# Acceptance Criteria

- [x] MCP tools mapped to CLI commands
- [x] CLI-only features identified
- [x] MCP-only features identified
- [x] Parity recommendations documented

---

# Audit Findings

## MCP to CLI Mapping

### Full Parity (13 tools)

| MCP Tool | CLI Command | Status |
|----------|-------------|--------|
| paircoder_task_list | task list | ✓ Full parity |
| paircoder_task_next | task next | ✓ Full parity |
| paircoder_task_start | task update --status in_progress | ✓ Full parity |
| paircoder_task_complete | ttask done | ✓ Full parity |
| paircoder_plan_list | plan list | ✓ Full parity |
| paircoder_plan_status | plan status | ✓ Full parity |
| paircoder_context_read | (read files directly) | ✓ Full parity |
| paircoder_orchestrate_analyze | orchestrate analyze | ✓ Full parity |
| paircoder_orchestrate_handoff | orchestrate handoff | ✓ Full parity |
| paircoder_metrics_record | (hooks/internal) | ✓ Full parity |
| paircoder_metrics_summary | metrics summary | ✓ Full parity |
| paircoder_trello_sync_plan | plan sync-trello | ✓ Full parity |
| paircoder_trello_update_card | ttask <action> | ✓ Full parity |

### MCP-Only (No CLI Equivalent)

| MCP Tool | Capability | Gap Reason |
|----------|------------|------------|
| paircoder_orchestrate_plan | Invoke planner agent | Agent invocation not exposed to CLI |
| paircoder_orchestrate_review | Invoke reviewer agent | Agent invocation not exposed to CLI |

## CLI-Only Features (No MCP Tool)

### Commands Without MCP Coverage

| CLI Command Group | Commands | Gap Priority |
|-------------------|----------|--------------|
| **security** | scan-secrets, scan-deps, pre-commit | P2 - Security-sensitive |
| **containment** | activate, deactivate, status, checkpoint | P2 - Session management |
| **session** | save, restore, list, delete | P2 - State management |
| **skill** | validate, export, list, show, gap | P1 - Useful for agents |
| **preset** | list, show, preview | P2 - Config helpers |
| **timer** | start, stop, status, show, summary | P3 - Utility |
| **benchmark** | run, results, compare, list | P3 - Testing |
| **cache** | stats, clear, invalidate | P3 - Maintenance |
| **audit** | bypasses, summary, clear | P2 - Compliance |
| **upgrade** | (main command) | P3 - Maintenance |
| **release** | validate, bump, notes, prepare | P2 - Release workflow |
| **github** | pr | P2 - Integration |

### High-Value Missing MCP Tools

| Proposed Tool | CLI Command | Value |
|---------------|-------------|-------|
| paircoder_skill_validate | skill validate | Verify skill definitions |
| paircoder_skill_list | skill list | Discover available skills |
| paircoder_security_scan | security scan-secrets | Pre-commit security |
| paircoder_release_validate | release validate | Release readiness |

## Feature Parity Summary

| Category | MCP Tools | CLI Commands | Parity |
|----------|-----------|--------------|--------|
| Task Management | 4 | 15+ | CLI > MCP |
| Planning | 2 | 23 | CLI > MCP |
| Orchestration | 4 | 7 | CLI > MCP |
| Metrics | 2 | 9 | CLI > MCP |
| Trello | 2 | 26 | CLI > MCP |
| Security | 0 | 6 | CLI only |
| Session | 0 | 10+ | CLI only |
| Skills | 0 | 14 | CLI only |

**Overall:** CLI has 182+ commands, MCP exposes 15 (8.2%)

## Recommendations

### P1 - Should Add to MCP

1. `paircoder_skill_validate` - Agents should verify skills
2. `paircoder_skill_list` - Agents should discover skills
3. `paircoder_security_scan` - Pre-commit scanning

### P2 - Consider Adding

4. `paircoder_session_status` - Session awareness
5. `paircoder_containment_status` - Containment awareness
6. `paircoder_release_validate` - Release workflow

### P3 - Nice to Have

7. CLI commands for `orchestrate plan` and `orchestrate review`

---

## Summary

**MCP-CLI Parity:** LOW (8.2% coverage)

MCP exposes 15 tools from 182+ CLI commands. Core workflow tools (task, plan, metrics, trello) have good coverage. Security, session, and skill commands have no MCP exposure. 2 MCP tools (`orchestrate_plan`, `orchestrate_review`) are MCP-only with no CLI equivalent.
