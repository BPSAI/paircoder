version: '2.8.3'
project:
  name: paircoder
  description: AI-augmented pair programming framework
  primary_goal: 'Ship Paircoder v2.8.4: Release Engineering Foundation'
  coverage_target: 80
workflow:
  default_branch_type: feature
  main_branch: main
  context_dir: .paircoder/context
  flows_dir: .paircoder/flows # deprecated
  plans_dir: .paircoder/plans
  tasks_dir: .paircoder/tasks
pack:
  default_name: agent_pack.tgz
  excludes:
  - .git
  - .venv
  - __pycache__
  - node_modules
  - dist
  - build
  - '*.log'
  - '*.bak'
  - tools/cli/dist
  - tools/cli/build
  - '*.egg-info'
models:
  navigator: claude-opus-4-5
  driver: claude-sonnet-4-5
  reviewer: claude-sonnet-4-5
  providers:
    anthropic:
      models:
      - claude-opus-4-5
      - claude-sonnet-4-5
      - claude-haiku-4-5
      default_effort: medium
    openai:
      models:
      - gpt-5.1-codex-max
      - gpt-5.1-codex
      - gpt-5.1-codex-mini
    google:
      models:
      - gemini-3-pro
      - gemini-3-deep-think
routing:
  by_complexity:
    trivial:
      max_score: 20
      model: claude-haiku-4-5
    simple:
      max_score: 40
      model: claude-haiku-4-5
    moderate:
      max_score: 60
      model: claude-sonnet-4-5
    complex:
      max_score: 80
      model: claude-opus-4-5
    epic:
      max_score: 100
      model: claude-opus-4-5
  overrides:
    security: claude-opus-4-5
    architecture: claude-opus-4-5
flows:
  enabled:
  - design-plan-implement
  - tdd-implement
  - review
  - finish-branch
  triggers:
    feature_request:
    - design-plan-implement
    bugfix:
    - tdd-implement
    pre_merge:
    - review
    - finish-branch
metrics:
  enabled: true
  store_path: .paircoder/history/metrics.jsonl
estimation:
  complexity_to_hours:
    xs:
      range:
      - 0
      - 15
      hours:
      - 0.5
      - 1.0
      - 2.0
    s:
      range:
      - 16
      - 30
      hours:
      - 1.0
      - 2.0
      - 4.0
    m:
      range:
      - 31
      - 50
      hours:
      - 2.0
      - 4.0
      - 8.0
    l:
      range:
      - 51
      - 75
      hours:
      - 4.0
      - 8.0
      - 16.0
    xl:
      range:
      - 76
      - 100
      hours:
      - 8.0
      - 16.0
      - 32.0
token_estimates:
  base_context: 15000
  per_complexity_point: 500
  by_task_type:
    feature: 1.2
    bugfix: 0.8
    docs: 0.6
    refactor: 1.5
    chore: 0.9
  per_file_touched: 2000
token_budget:
  warning_threshold: 75  # Warn when task estimated above this %
  critical_threshold: 90  # Critical when above this %

hooks:
  enabled: true
  on_task_ready:
  - sync_trello
  - update_state
  on_task_start:
  - check_token_budget
  - start_timer
  - sync_trello
  - update_state
  on_task_review:
  - sync_trello
  - update_state
  on_task_complete:
  - stop_timer
  - record_task_completion
  - record_metrics
  - record_velocity
  - sync_trello
  - update_state
  - check_unblocked
  on_task_block:
  - sync_trello
  - update_state

release:
  version_source: tools/cli/pyproject.toml
  documentation:
    - CHANGELOG.md
    - README.md
    - .paircoder/docs/FEATURE_MATRIX.md
  cookie_cutter:
    template_path: tools/cli/bpsai_pair/data/cookiecutter-paircoder
    sync_required: true
  freshness_days: 7

trello:
  enabled: true
  board_id: 69487ba516aeeabe10976a23
  board_name: PairCoder

  defaults:
    project: PairCoder
    stack: Worker/Function
    repo_url: https://github.com/BPSAI/paircoder

  board_structure:
    lists:
      - name: Intake/Backlog
        maps_to_status: [pending, backlog]
      - name: Planned/Ready
        maps_to_status: [ready, planned]
      - name: In Progress
        maps_to_status: [in_progress]
      - name: Review/Testing
        maps_to_status: [review, testing]
      - name: Deployed/Done
        maps_to_status: [done, deployed]
      - name: Issues/Tech Debt
        maps_to_status: [blocked, issue]

  custom_fields:
    project:
      type: dropdown
      options:
        - "--"
        - Aurora
        - CodexAgent-Trello
        - DanHil AP Invoices
        - DanHil RFQ
        - Prompt Academy
        - Weber SSRS Analysis
        - PairCoder
        - Support App
      default: PairCoder

    stack:
      type: dropdown
      options:
        - "--"
        - React
        - Flask
        - Worker/Function
        - Infra
        - Collection
      mapping:
        cli: Worker/Function
        python: Flask
        backend: Flask
        frontend: React
        ui: React
        worker: Worker/Function
        function: Worker/Function
        infra: Infra
        deploy: Infra
        ci: Infra
        docs: Collection
        documentation: Collection
        meta: Collection
        multiple: Collection
      default: Worker/Function

    status:
      type: dropdown
      options:
        - "--"
        - Planning
        - In progress
        - Testing
        - Done
        - Enqueued
        - Waiting
        - Blocked
      mapping:
        pending: Planning
        ready: Enqueued
        in_progress: In progress
        review: Testing
        testing: Testing
        done: Done
        blocked: Blocked
        waiting: Waiting
      default: Planning

    effort:
      type: dropdown
      options:
        - "--"
        - S
        - M
        - L
      mapping:
        0-30: S
        31-60: M
        61-100: L
      default: M

    repo_url:
      type: dropdown
      options:
        - "--"
        - https://github.com/BPSAI/paircoder
      default: https://github.com/BPSAI/paircoder

    agent_task:
      type: checkbox
      default: false

    adjusted_effort:
      type: dropdown
      options:
        - "--"
        - XS
        - S
        - M
        - L
        - XL

    deployment_tag:
      type: text

    adjusted_effort_notes:
      type: text

  labels:
    - name: Frontend
      color: green
      matches: [react, ui, frontend, css]
    - name: Backend
      color: blue
      matches: [flask, api, backend, python]
    - name: Worker / Function
      color: purple
      matches: [worker, function, background, async, cli]
    - name: Deployment
      color: red
      matches: [deploy, ci, cd, infra, config]
    - name: Bug / Issue
      color: orange
      matches: [bug, fix, issue, error]
    - name: Documentation
      color: sky
      matches: [docs, documentation, readme, guide]

  automation:
    on_task_ready:
      move_to_list: Planned/Ready
      set_status: Enqueued
    on_task_start:
      move_to_list: In Progress
      set_status: In progress
    on_task_review:
      move_to_list: Review/Testing
      set_status: Testing
    on_task_complete:
      move_to_list: Deployed/Done
      set_status: Done
    on_task_block:
      move_to_list: Issues/Tech Debt
      set_status: Blocked
