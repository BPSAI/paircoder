version: "2.0"

project:
  name: "paircoder"
  primary_goal: "Ship Paircoder v2: repo-aware AI pairing with YAML flows + orchestration"
  coverage_target: 85

workflow:
  default_branch_type: "feature"
  main_branch: "main"
  context_dir: "context"
  default_flow: "design-plan-implement"

pack:
  default_name: "agent_pack.tgz"
  excludes:
    - ".git"
    - ".venv"
    - "__pycache__"
    - "node_modules"
    - "dist"
    - "build"
    - "*.log"
    - "*.bak"

ci:
  python_formatter: "ruff"
  node_formatter: "prettier"

models:
  default_route: "balanced"
  providers:
    openai:
      type: "openai"
      base_url: "https://api.openai.com/v1"
      model_ids:
        fast: "gpt-5.1-medium"
        balanced: "gpt-5.2"
        deep: "gpt-5.2-high"
    anthropic:
      type: "anthropic"
      model_ids:
        fast: "claude-opus-4-1-20250805"
        balanced: "claude-opus-4-5-20251101"
        deep: "claude-opus-4-5-20251101-thinking-32k"
    google:
      type: "gemini"
      model_ids:
        fast: "gemini-2.5-pro"
        balanced: "gemini-3-pro"

routing:
  rules:
    - name: "low-complexity-fast"
      when:
        max_complexity: 30
        allowed_kinds: ["bugfix", "refactor"]
      use:
        provider: "openai"
        tier: "fast"
    - name: "default-balanced"
      when:
        max_complexity: 70
      use:
        provider: "anthropic"
        tier: "balanced"
    - name: "high-complexity-deep"
      when:
        min_complexity: 70
      use:
        provider: "anthropic"
        tier: "deep"
